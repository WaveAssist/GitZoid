name: Gitzoid
description: AI-powered GitHub bot that monitors pull requests, generates structured reviews, and posts them back. Automatically detects new commits and provides incremental reviews.
success_message: Gitzoid is setup and running. It will auto review all your new pull requests and follow-up commits within a few minutes.
output_default_message: "Run completed, no new pull requests to review. \n<br> Gitzoid will automatically review all your new pull requests and incremental changes."

requirements:
  - openai

nodes:
  - key: fetch_pull_requests
    name: FetchPRs
    file_name: fetch_pull_requests.py
    starting_node: true
    schedule:
      interval:
        every: 2
        period: minutes

  - key: generate_review
    name: GenerateReview
    file_name: generate_review.py
    run_after:
      - fetch_pull_requests

  - key: post_comment
    name: PostComment
    file_name: post_comment.py
    run_after:
      - generate_review

variables:
  - type: github
    name: github
    display_name: GitHub
    key: github
    is_optional: false
    scopes: ["repo"]
    required_resources: ["repos"]
    helper_message: "Connect your GitHub account to the app"
  - name: model_name
    key: model_name
    display_name: Model name
    value: "anthropic/claude-haiku-4.5"
    type: "string"
    is_optional: true
    helper_message: "Select model for review generation"
    options:
      - name: Claude Haiku 4.5
        key: anthropic/claude-haiku-4.5
      - name: Claude Sonnet 4.6
        key: anthropic/claude-sonnet-4.6
      - name: Claude Opus 4.6
        key: anthropic/claude-opus-4.6
      - name: Grok Code Fast 1
        key: x-ai/grok-code-fast-1
      - name: Gemini 3 Flash
        key: google/gemini-3-flash-preview
      - name: DeepSeek V3.2
        key: deepseek/deepseek-v3.2
      - name: Gemini 3.1 Pro
        key: google/gemini-3.1-pro-preview
      - name: GPT-5.2
        key: openai/gpt-5.2
      - name: Minimax M2.5
        key: minimax/minimax-m2.5

  - name: schedule
    key: schedule
    display_name: Review frequency
    value:
      cron: "*/2 * * * *"
      timezone: "UTC"
    type: "schedule"
    is_optional: true
    helper_message: "How often GitZoid should check and review your pull requests"
    options:
      - name: Quick (every 2 minutes)
        key:
          cron: "*/2 * * * *"
          timezone: "UTC"
      - name: Relaxed (every 5 minutes)
        key:
          cron: "*/5 * * * *"
          timezone: "UTC"
      - name: Webhook only (trigger based, with 30 mins fallback)
        key:
          cron: "*/30 * * * *"
          timezone: "UTC"

  - name: additional_context
    key: additional_context
    display_name: Additional context
    value: ""
    type: "string"
    is_optional: true
    helper_message: "Additional context for review generation"
