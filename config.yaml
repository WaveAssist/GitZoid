name: Gitzoid
description: AI-powered GitHub bot that monitors pull requests, generates structured reviews, and posts them back.
success_message: Gitzoid is setup and running. It will auto review all your new pull requests within a few minutes.
output_default_message: "Run completed, no new pull requests to review. \n<br> Gitzoid will automatically review all your new pull requests."

requirements:
  - openai

nodes:
  - key: fetch_pull_requests
    name: FetchPRs
    file_name: fetch_pull_requests.py
    starting_node: true
    schedule:
      interval:
        every: 2
        period: minutes

  - key: generate_review
    name: GenerateReview
    file_name: generate_review.py
    run_after:
      - fetch_pull_requests

  - key: post_comment
    name: PostComment
    file_name: post_comment.py
    run_after:
      - generate_review

variables:
  - type: github
    name: github
    key: github
    is_optional: false
    scopes: ["repo"]
    required_resources: ["repos"]
    helper_message: "Connect your GitHub account to the app"
  - name: model_name
    key: model_name
    value: "anthropic/claude-sonnet-4.5"
    type: "string"
    is_optional: true
    helper_message: "Select model for review generation"
    options:
      - name: Claude Sonnet 4.5
        key: anthropic/claude-sonnet-4.5
      - name: Grok Code Fast 1
        key: x-ai/grok-code-fast-1
      - name: Claude Sonnet 4
        key: anthropic/claude-sonnet-4
      - name: Gemini 2.5 Flash
        key: google/gemini-2.5-flash
      - name: DeepSeek Chat V3.1
        key: deepseek/deepseek-chat-v3.1
      - name: GPT-5 Mini
        key: openai/gpt-5-mini

  - name: additional_context
    key: additional_context
    value: ""
    type: "string"
    is_optional: true
    helper_message: "Additional context for review generation"
